import SwiftUI

struct CustomSegmentedControl: View {
    @Binding var selectedIndex: Int
    let items: [String]
    let cornerRadius: CGFloat
    let height: CGFloat

    var body: some View {
        HStack {
            ForEach(0..<items.count, id: \.self) { index in
                ZStack {
                    RoundedRectangle(cornerRadius: cornerRadius)
                        .fill(Color.gray.opacity(0.2))
                        .frame(height: height)
                    Text(items[index])
                        .foregroundColor(Color.black)
                }
                .onTapGesture {
                    selectedIndex = index
                }
            }
        }
    }
}

struct ContentView: View {
    @State private var selectedIndex = 0

    var body: some View {
        VStack {
            CustomSegmentedControl(
                selectedIndex: $selectedIndex,
                items: ["Option 1", "Option 2", "Option 3"],
                cornerRadius: 10,
                height: 40
            )
            Spacer()
        }
        .padding()
    }
}
